<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <meta property='og:type' content='website'>
    <meta property='og:title' content='むうま Todoアプリ'>
    <meta property='og:description' content='むうま Todoアプリ'>
    <meta property="og:image" content="img/profile.png">
    <meta name="description" content="TARO YAMADAのポートフォリオサイトです" />
    <title>Todoアプリ</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="css/ress.css" media="all" rel="stylesheet" type="text/css" />
    <link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="img/profile.jpg" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L1NSP0YT8J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-L1NSP0YT8J');
    </script>

    <!-- AWS - Cloud Watch RUM -->
    <script>
        (function(n,i,v,r,s,c,x,z){x=window.AwsRumClient={q:[],n:n,i:i,v:v,r:r,c:c};window[n]=function(c,p){x.q.push({c:c,p:p});};z=document.createElement('script');z.async=true;z.src=s;document.head.insertBefore(z,document.head.getElementsByTagName('script')[0]);})(
        'cwr',
        '2c675976-ce2d-4c53-8d15-70b657448004',
        '1.0.0',
        'ap-northeast-1',
        'https://client.rum.us-east-1.amazonaws.com/1.5.x/cwr.js',
        {
            sessionSampleRate: 1,
            guestRoleArn: "arn:aws:iam::003125768899:role/RUM-Monitor-ap-northeast-1-003125768899-9618182926561-Unauth",
            identityPoolId: "ap-northeast-1:163bd026-8550-4980-a678-c7b142654886",
            endpoint: "https://dataplane.rum.ap-northeast-1.amazonaws.com",
            telemetries: ["performance","errors","http"],
            allowCookies: true,
            enableXRay: false
        }
        );
    </script>
</head>

<body>
  <div class="wrapper">

    <!-- header -->
    <header class="header ">
        <div class="container">
            <h1 class="header-logo">
                <a href=".">むうま ぷろふぃーる</a>
            </h1>
            <nav class="gnav">
                <ul class="gnav-list">
                    <li class="gnav-item"><a href="./#skill">スキル</a></li>
                    <li class="gnav-item"><a href="./#about">概要</a></li>
                    <li class="gnav-item"><a href="./#works">ポートフォリオてきな</a></li>
                    <li class="gnav-item"><a href="./#contact">問い合わせ</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- /header -->

    <main class="content">

      <article class="article">
            <div class="article-container">
            <h2 class="article-title">Amplifyを用いたTodoアプリ</h2>
            <div class="article-body">
                <p>
                    <img src="img/todo_top.png" alt="">
                </p>
                <p>
                    AWSを用いて、Todoアプリを作成しました。<br />
                    サーバーを用いないサーバーレスアーキテクチャです。<br />
                </p>

                <h3>GitHub</h3>
                <p><a href="https://github.com/MuMa3679/todo" target="_blank" rel="noopener">https://github.com/MuMa3679/todo</a></p>
                <h3>フロー</h3>
                <img src="img/todo.drawio.svg" alt=""></img>
                <p>
                    ユーザーが画面でデータを入力すると、そのデータをGraohQLのMutationで送信します。
                    するとAWS DynamoDBにデータが挿入されます。<br>
                    そのデータをGraohQLのQueryで取得することで一覧表示することができます。<br>
                    これらの構築は全て<a href="https://aws.amazon.com/jp/amplify/">AWS Amplify</a>で構築しています。
                </p>
                <h3>環境について</h3>
                <p>
                    AWS Amplify<br>
                    AWS DynamoDB<br>
                    AWS AppSync<br>
                    AWS Cognito<br>
                    Vue.js<br>
                </p>
                <p>
                    このアプリはサーバーレスで開発するという目的で、バックエンド部分にはAppSyncを用いてGraphQLで作成しています。<br>
                    認証機構にはCognitoを使用しています。そのためユーザーのパスワード管理などは一切扶養です。<br>
                    フロント側はVue.jsを用いることでSPAとしています。
                </p>

                <h3>デモ</h3>
                <div>
                    <p>
                        AWSを用いた開発の都合上、アプリ自体を公開すると料金が大変なことになる可能性がありますので、ソースコードの公開と動作している所を動画で公開します。
                    </p>
                    <h4>サインイン画面</h4>
                    <img src="img/signin.png" alt="サインイン画面"></img>
                    <p>
                        サインイン画面は今回は自作せずにAmplifyのデフォルトで用意されているものを使っています。<br>
                        ユーザーの作成は、この画面からもできますしCognitoのコンソール画面から作成することも可能です。
                    </p>
                    <h4>データ追加</h4>
                    <video src="mp4/mutation.mp4" loop autoplay muted width="100%"></video>
                    <p>
                        データの挿入はフォームに「名前」「内容」を入力し追加ボタンを押すだけです。
                    </p>
                    <h4>完了に変更する</h4>
                    <video src="mp4/completed.mp4" loop autoplay muted width="100%"></video>
                    <p>
                        Todoを完了にするにはTodo自体をダブルクリックするだけで完了に移行します。
                    </p>
                    <h4>完了したTodoを削除する</h4>
                    <video src="mp4/delete.mp4" loop autoplay muted width="100%"></video>
                    <p>
                        完了したTodoを削除するのも完了したTodo自体をダブルクリックします。
                    </p>
                    <h4>サインアウト</h4>
                    <video src="mp4/signout.mp4" loop autoplay muted width="100%"></video>
                    <p>
                        サインアウトするには一番下のサインアウトボタンをクリックします。
                    </p>
                </div>

                <h3>技術的メモ</h3>
                Amplifyの技術を多く使っている。<a href="https://qiita.com/MuMa3679/items/3bf76d6becb0a5ec8cfa">Qiita</a>に少しまとめているが、フロントはvue.jsでGraphQLは<a href="https://docs.aws.amazon.com/amplify/?id=docs_gateway">AWS Amplify SDK</a>を使用している。通信は非同期通信である。<br>
                バックエンド部分はAmplifyが生成したスキーマをそのまま使用している。<br>
                認証部分に関しては、作成ユーザーのみが自分のTodoを見ることが出来るので、他のユーザーの場合は403が返ってくる。ログインしていないユーザーが使った場合でも(そもそもログインできないが)403が返ってくる。
                ログインした際にユーザーのアクセストークン(IdToken)を保存している。
            </div>
            <div class="home-link">
                <a href="./#works">ポートフォリオてきな一覧へ</a>
            </div>
            </div>
      </article>

      <div class="page-top" id="js-page-top">
        <span class="material-icons-outlined">expand_less</span>
      </div>
    </main>

  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script type='text/javascript' src="js/script.js"></script>
</body>
</html>